{"version":3,"sources":["definitions/class-definition.ts"],"names":["ClassDefinition","ClassDefinition.constructor","ClassDefinition.baseClasses","ClassDefinition.methods","ClassDefinition.properties","ClassDefinition.createMembers","ClassDefinition.isClassDefinition"],"mappings":";;;;;;;;;;;;;AAAA,IAAY,EAAE,WAAM,YAAY,CAAC,CAAA;AACjC,4BAAoE,kBAAkB,CAAC,CAAA;AACvF,sBAAwC,YAAY,CAAC,CAAA;AAErD;IAAqCA,mCAAeA;IAIhDA,yBAAYA,WAAwBA,EAAEA,MAAiBA,EAAUA,YAA+BA;QAC5FC,kBAAMA,MAAMA,CAACA,CAACA;QAD+CA,iBAAYA,GAAZA,YAAYA,CAAmBA;QAHxFA,aAAQA,GAAuBA,EAAEA,CAACA;QAClCA,gBAAWA,GAAyBA,EAAEA,CAACA;QAK3CA,IAAIA,CAACA,aAAaA,CAACA,WAAWA,EAAEA,MAAMA,CAACA,CAACA;IAC5CA,CAACA;IAEDD,sBACIA,wCAAWA;aADfA;YAEIE,MAAMA,CAACA,IAAIA,CAACA,YAAYA,CAACA;QAC7BA,CAACA;;;OAAAF;IAEDA,sBACIA,oCAAOA;aADXA;YAEIG,MAAMA,CAACA,IAAIA,CAACA,QAAQA,CAACA;QACzBA,CAACA;;;OAAAH;IAEDA,sBACIA,uCAAUA;aADdA;YAEII,MAAMA,CAACA,IAAIA,CAACA,WAAWA,CAACA;QAC5BA,CAACA;;;OAAAJ;IAEOA,uCAAaA,GAArBA,UAAsBA,WAAwBA,EAAEA,MAAiBA;QAC7DK,GAAGA,CAACA,CAACA,GAAGA,CAACA,UAAUA,IAAIA,MAAMA,CAACA,OAAOA,CAACA,CAACA,CAACA;YACpCA,EAAEA,CAACA,CAACA,8BAAgBA,CAACA,aAAaA,CAACA,MAAMA,CAACA,OAAOA,CAACA,UAAUA,CAACA,CAACA,CAACA,CAACA,CAACA;gBAC7DA,IAAIA,CAACA,QAAQA,CAACA,IAAIA,CAACA,IAAIA,8BAAgBA,CAACA,WAAWA,EAAEA,MAAMA,CAACA,OAAOA,CAACA,UAAUA,CAACA,CAACA,CAACA,CAACA;YACtFA,CAACA;YACDA,IAAIA,CAACA,EAAEA,CAACA,CAACA,gCAAkBA,CAACA,UAAUA,CAACA,MAAMA,CAACA,OAAOA,CAACA,UAAUA,CAACA,CAACA,CAACA,CAACA,CAACA;gBACjEA,IAAIA,CAACA,WAAWA,CAACA,IAAIA,CAACA,IAAIA,gCAAkBA,CAACA,WAAWA,EAAEA,MAAMA,CAACA,OAAOA,CAACA,UAAUA,CAACA,CAACA,CAACA,CAACA;YAC3FA,CAACA;YACDA,IAAIA,CAACA,EAAEA,CAACA,CAACA,UAAUA,KAAKA,eAAeA,CAACA,CAACA,CAACA;gBACtCA,MAAMA,sDAAoDA,IAAIA,CAACA,IAAMA,CAACA;YAC1EA,CAACA;YACDA,IAAIA,CAACA,CAACA;gBACFA,MAAMA,sBAAoBA,UAAUA,MAAGA,CAACA;YAC5CA,CAACA;QACLA,CAACA;IACLA,CAACA;IAEML,iCAAiBA,GAAxBA,UAAyBA,MAAiBA;QACtCM,MAAMA,CAACA,CAACA,MAAMA,CAACA,KAAKA,GAAGA,EAAoBA,CAACA,KAAKA,CAACA,CAACA;IACvDA,CAACA;IAlCDN,sBACIA,wCAAWA;;YADdA,oBAAYA;WACTA,wCAAWA,kCAAXA,wCAAWA,IAEdA;IAEDA,sBACIA,oCAAOA;;YADVA,oBAAYA;WACTA,oCAAOA,kCAAPA,oCAAOA,IAEVA;IAEDA,sBACIA,uCAAUA;;YADbA,oBAAYA;WACTA,uCAAUA,kCAAVA,uCAAUA,IAEbA;IAsBLA,sBAACA;AAADA,CA7CA,AA6CCA,EA7CoC,6BAAe,EA6CnD;AA7CY,uBAAe,kBA6C3B,CAAA","file":"definitions/class-definition.js","sourcesContent":["import * as ts from \"typescript\";\r\nimport {NamedDefinition, MethodDefinition, PropertyDefinition} from \"./../definitions\";\r\nimport {TypeChecker, Serializable} from \"./../utils\";\r\n\r\nexport class ClassDefinition extends NamedDefinition {\r\n    private _methods: MethodDefinition[] = [];\r\n    private _properties: PropertyDefinition[] = [];\r\n\r\n    constructor(typeChecker: TypeChecker, symbol: ts.Symbol, private _baseClasses: ClassDefinition[]) {\r\n        super(symbol);\r\n\r\n        this.createMembers(typeChecker, symbol);\r\n    }\r\n\r\n    @Serializable\r\n    get baseClasses() {\r\n        return this._baseClasses;\r\n    }\r\n\r\n    @Serializable\r\n    get methods() {\r\n        return this._methods;\r\n    }\r\n\r\n    @Serializable\r\n    get properties() {\r\n        return this._properties;\r\n    }\r\n\r\n    private createMembers(typeChecker: TypeChecker, symbol: ts.Symbol) {\r\n        for (let memberName in symbol.members) {\r\n            if (MethodDefinition.isClassMethod(symbol.members[memberName])) {\r\n                this._methods.push(new MethodDefinition(typeChecker, symbol.members[memberName]));\r\n            }\r\n            else if (PropertyDefinition.isProperty(symbol.members[memberName])) {\r\n                this._properties.push(new PropertyDefinition(typeChecker, symbol.members[memberName]));\r\n            }\r\n            else if (memberName === \"__constructor\") {\r\n                throw `Constructors are currently not supported. Class: ${this.name}`;\r\n            }\r\n            else {\r\n                throw `Not implemented '${memberName}'`;\r\n            }\r\n        }\r\n    }\r\n\r\n    static isClassDefinition(symbol: ts.Symbol) {\r\n        return (symbol.flags & ts.SymbolFlags.Class) !== 0;\r\n    }\r\n}\r\n"],"sourceRoot":"/source/"}